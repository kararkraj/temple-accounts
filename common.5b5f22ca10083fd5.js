"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[76],{7365:(E,u,a)=>{a.r(u),a.d(u,{AddCharityTypePage:()=>T});var l=a(4341),n=a(5751),t=a(3953),e=a(1953),g=a(7990);let T=(()=>{var p;class _{constructor(s,o,m,d){this.formBuilder=s,this.charityTypeService=o,this.loading=m,this.toaster=d,this.title="Add Service",this.charityTypeForm=this.formBuilder.group({name:[null,[l.k0.required,l.k0.maxLength(100),l.k0.pattern("[a-zA-Z0-9 ]+")]],amount:[null,[l.k0.required,l.k0.min(1)]]})}ngOnInit(){}onSubmit(){if(this.charityTypeForm.valid)try{this.charityTypeService.addCharityType(this.charityTypeForm.getRawValue()),this.toaster.presentToast({message:"Service was added successfully.",color:"success"})}catch(s){this.toaster.presentToast({message:`Error: ${s.code}`,color:"danger"}),console.error("Error adding document: ",s)}finally{this.resetForm()}else this.charityTypeForm.markAllAsTouched()}resetForm(){this.charityTypeForm.reset()}}return(p=_).\u0275fac=function(s){return new(s||p)(t.rXU(l.ok),t.rXU(e.y),t.rXU(n.Xi),t.rXU(g.W))},p.\u0275cmp=t.VBU({type:p,selectors:[["app-add-charity-type"]],inputs:{charityTypeId:"charityTypeId"},standalone:!0,features:[t.aNF],decls:21,vars:2,consts:[["slot","start"],["defaultHref","tabs/services"],[3,"ngSubmit","formGroup"],["lines","none"],["formControlName","name","label","Service Name *","label-placement","floating","placeholder","Enter service name","type","text","name","name","required","","maxlength","100","helperText","Only a-z, A-Z and 0-9 characters allowed","errorText","Only a-z, A-Z and 0-9 characters allowed"],["formControlName","amount","label","Service Amount *","label-placement","floating","placeholder","1001","type","number","name","amount","required","","min","1"],[1,"ion-no-padding"],["expand","full","type","button","color","light",3,"click"],["expand","full","type","submit"]],template:function(s,o){1&s&&(t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t.nrm(3,"ion-back-button",1),t.k0s(),t.j41(4,"ion-title"),t.EFF(5),t.k0s()()(),t.j41(6,"ion-content")(7,"form",2),t.bIt("ngSubmit",function(){return o.onSubmit()}),t.j41(8,"ion-item-group")(9,"ion-item",3),t.nrm(10,"ion-input",4),t.k0s(),t.j41(11,"ion-item",3),t.nrm(12,"ion-input",5),t.k0s()(),t.j41(13,"ion-grid",6)(14,"ion-row")(15,"ion-col")(16,"ion-button",7),t.bIt("click",function(){return o.resetForm()}),t.EFF(17,"Reset"),t.k0s()(),t.j41(18,"ion-col")(19,"ion-button",8),t.EFF(20,"Submit"),t.k0s()()()()()()),2&s&&(t.R7$(5),t.JRh(o.title),t.R7$(2),t.Y8G("formGroup",o.charityTypeForm))},dependencies:[n.Jm,n.hU,n.lO,n.uz,n.jh,n.el,n.ln,n.QW,n.W9,n.eU,n.BC,n.ai,l.X1,l.qT,l.BC,l.cb,l.YS,l.tU,l.j4,l.JD,n.$w]}),_})()},2193:(E,u,a)=>{a.r(u),a.d(u,{AddTemplePage:()=>s});var l=a(467),n=a(4341),t=a(5751),e=a(3953),g=a(9807),T=a(7990);function p(o,m){1&o&&e.nrm(0,"ion-item-divider")}function _(o,m){if(1&o){const d=e.RV6();e.DNE(0,p,1,0,"ion-item-divider"),e.j41(1,"ion-item",9),e.nrm(2,"ion-input",11),e.j41(3,"ion-select",12)(4,"ion-select-option",13),e.EFF(5,"Admin"),e.k0s(),e.j41(6,"ion-select-option",14),e.EFF(7,"Member"),e.k0s(),e.j41(8,"ion-select-option",15),e.EFF(9,"Viewer"),e.k0s()(),e.j41(10,"ion-button",16),e.bIt("click",function(){const i=e.eBV(d).$index,c=e.XpG();return e.Njj(c.deleteUser(i))}),e.nrm(11,"ion-icon",17),e.k0s()()}if(2&o){const d=m.$implicit;e.vxM(m.$index>0?0:-1),e.R7$(),e.Y8G("formGroup",d)}}function h(o,m){if(1&o){const d=e.RV6();e.j41(0,"ion-grid",10)(1,"ion-row")(2,"ion-col")(3,"ion-button",18),e.bIt("click",function(){e.eBV(d);const i=e.XpG();return e.Njj(i.resetForm())}),e.EFF(4,"Reset"),e.k0s()(),e.j41(5,"ion-col")(6,"ion-button",19),e.EFF(7,"Submit"),e.k0s()()()()}}let s=(()=>{var o;class m{constructor(r,i,c,f){this.formBuilder=r,this.templeService=i,this.toaster=c,this.cdr=f,this.canEdit=!0,this.title="Add Temple",this.templeForm=this.formBuilder.group({name:[null,[n.k0.required,n.k0.maxLength(100),n.k0.pattern("[a-zA-Z0-9 ]+")]],address:[null,[n.k0.required,n.k0.maxLength(500),n.k0.pattern("^[a-zA-Z0-9 \n.,-]*$")]],roles:this.formBuilder.array([])})}ngOnInit(){}get roles(){return this.templeForm.controls.roles}onSubmit(){var r=this;return(0,l.A)(function*(){if(r.templeForm.valid)try{const i=r.templeForm.getRawValue(),c={};i.roles.forEach(y=>c[y.email]=y.role),r.templeService.addTemple({name:i.name,address:i.address,roles:c}),r.toaster.presentToast({message:"Temple was added successfully!",color:"success"}),r.resetForm()}catch(i){r.toaster.presentToast({message:`Error: ${i.code}`,color:"danger"}),console.error("Error adding document: ",i)}else r.templeForm.markAllAsTouched(),r.cdr.detectChanges()})()}resetForm(){this.templeForm.reset(),this.cdr.detectChanges()}addUser(){const r=this.formBuilder.group({email:[null,[n.k0.required,n.k0.email,n.k0.minLength(5)]],role:[null,n.k0.required]});this.roles.push(r)}deleteUser(r){this.roles.removeAt(r)}}return(o=m).\u0275fac=function(r){return new(r||o)(e.rXU(n.ok),e.rXU(g.f),e.rXU(T.W),e.rXU(e.gRc))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-add-temple"]],inputs:{templeId:"templeId"},standalone:!0,features:[e.aNF],decls:27,vars:4,consts:[["slot","start"],["defaultHref","tabs/temples"],[3,"ngSubmit","formGroup"],["lines","none"],["formControlName","name","label","Temple Name *","label-placement","floating","placeholder","Enter temple name","type","text","name","templeName","required","","maxlength","100","helperText","Only a-z, A-Z and 0-9 characters allowed","errorText","Only a-z, A-Z and 0-9 characters allowed"],["formControlName","address","label","Temple Address *","label-placement","floating","placeholder","Enter temple address","name","templeAddress","required","","maxlength","500","helperText","Only a-z, A-Z, 0-9, comma, ., -` and new line characters allowed","errorText","Only a-z, A-Z, 0-9, comma, ., - and new line characters allowed","rows","3",3,"autoGrow"],["type","button","color","primary","shape","round",3,"click"],["slot","start","name","add-outline"],["formArrayName","roles"],["lines","none",3,"formGroup"],[1,"ion-no-padding"],["formControlName","email","label","Email *","label-placement","floating","placeholder","example@domain.com","type","text","name","email","required","","maxlength","100","minlength","5","helperText","example@domain.com","errorText","Invalid Email",1,"max-width-60"],["formControlName","role","required","","label","Role *","label-placement","floating",1,"ion-margin-start"],["value","admin"],["value","member"],["value","viewer"],["size","default",3,"click"],["slot","icon-only","name","close-circle-outline"],["expand","full","type","button","color","light",3,"click"],["expand","full","type","submit"]],template:function(r,i){1&r&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e.nrm(3,"ion-back-button",1),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.k0s()()(),e.j41(6,"ion-content")(7,"form",2),e.bIt("ngSubmit",function(){return i.onSubmit()}),e.j41(8,"ion-item-group")(9,"ion-item-divider")(10,"ion-label"),e.EFF(11,"Temple details:"),e.k0s()(),e.j41(12,"ion-item",3),e.nrm(13,"ion-input",4),e.k0s(),e.j41(14,"ion-item",3),e.nrm(15,"ion-textarea",5),e.k0s()(),e.j41(16,"ion-item-group")(17,"ion-item-divider")(18,"ion-label"),e.EFF(19,"Share Temple with other users:"),e.k0s()(),e.j41(20,"ion-button",6),e.bIt("click",function(){return i.addUser()}),e.nrm(21,"ion-icon",7),e.EFF(22," Add user "),e.k0s(),e.qex(23,8),e.Z7z(24,_,12,2,"ion-item",9,e.Vm6),e.bVm(),e.k0s(),e.DNE(26,h,8,0,"ion-grid",10),e.k0s()()),2&r&&(e.R7$(5),e.JRh(i.title),e.R7$(2),e.Y8G("formGroup",i.templeForm),e.R7$(8),e.Y8G("autoGrow",!0),e.R7$(9),e.Dyx(i.roles.controls),e.R7$(2),e.vxM(i.canEdit?26:-1))},dependencies:[t.el,t.hU,t.ln,t.lO,n.X1,n.qT,n.BC,n.cb,n.YS,n.xh,n.tU,n.j4,n.JD,n.v8,t.W9,t.eU,t.BC,t.ai,t.Jm,t.nc,t.$w,t.QW,t.iq,t.uz,t.jh,t.Dg,t.he,t.Nm,t.Ip],styles:["@media (max-width: 560px){ion-input.amount-input[_ngcontent-%COMP%]{flex:20%}}@media (min-width: 561px) and (max-width: 1000px){ion-input.amount-input[_ngcontent-%COMP%]{flex:60%}}.input-disabled[_ngcontent-%COMP%], .textarea-disabled[_ngcontent-%COMP%]{opacity:.5}ion-item[_ngcontent-%COMP%]   ion-input.max-width-60[_ngcontent-%COMP%]{max-width:60%}ion-item[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{align-self:flex-start}"]}),m})()}}]);