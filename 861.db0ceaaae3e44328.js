"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[861],{7861:(f,_,s)=>{s.r(_),s.d(_,{EntriesPage:()=>y});var u=s(467),e=s(3953),E=s(70),t=s(7920),p=s(9650),m=s(4987);function h(o,l){if(1&o){const r=e.RV6();e.j41(0,"ion-row")(1,"ion-col"),e.EFF(2),e.k0s(),e.j41(3,"ion-col",11),e.EFF(4),e.k0s(),e.j41(5,"ion-col",7),e.EFF(6),e.k0s(),e.j41(7,"ion-col",12)(8,"ion-buttons",13)(9,"ion-button",14),e.bIt("click",function(){const i=e.eBV(r).$implicit,a=e.XpG();return e.Njj(a.downloadReceipt(i))}),e.nrm(10,"ion-icon",15),e.k0s(),e.j41(11,"ion-button",14),e.bIt("click",function(){const i=e.eBV(r).$implicit,a=e.XpG();return e.Njj(a.presentDeleteEntryAlert(i))}),e.nrm(12,"ion-icon",16),e.k0s()()()()}if(2&o){const r=l.$implicit;e.R7$(2),e.JRh(r.title+" "+r.name),e.R7$(2),e.JRh(r.charityType.amount),e.R7$(2),e.JRh(r.charityType.name)}}function g(o,l){1&o&&(e.j41(0,"ion-row")(1,"ion-col",17),e.EFF(2,"No entries to show."),e.k0s()())}let y=(()=>{var o;class l{constructor(n,i,a,c){this.entryService=n,this.alertController=i,this.loader=a,this.pdfService=c,this.entries=[],this.updatedEntriesEffect=(0,e.QZP)(()=>{this.entryService.entriesUpdatedSignal(),this.getEntries()})}ngOnInit(){}getEntries(){this.entryService.getEntries().then(n=>this.entries=n)}presentDeleteEntryAlert(n){var i=this;return(0,u.A)(function*(){var c;yield(yield i.alertController.create({header:"Confirm delete",subHeader:"Are you sure you want to delete the following record?",message:"Entry name: "+n.name,buttons:[{text:"No, Cancel",role:"cancel",handler:()=>{}},{text:"Yes, Delete",role:"confirm",handler:(c=(0,u.A)(function*(){const d=yield i.loader.create({message:"Deleting entry..."});yield d.present(),i.entryService.deleteEntry(n.id).subscribe({next:()=>d.dismiss()})}),function(){return c.apply(this,arguments)})}]})).present()})()}downloadReceipt(n){this.pdfService.generateAndDownloadPDF(n)}}return(o=l).\u0275fac=function(n){return new(n||o)(e.rXU(p.q),e.rXU(t.hG),e.rXU(t.Xi),e.rXU(m.C))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-entries"]],standalone:!0,features:[e.aNF],decls:27,vars:1,consts:[["slot","start"],["slot","end"],["color","primary","fill","solid","routerLink","../add-entry"],["name","add-outline"],[1,"ion-no-padding","ion-text-center"],[1,"ion-padding"],["size","2",1,"ion-padding"],[1,"ion-hide-sm-down"],[1,"ion-hide-sm-up"],[1,"ion-padding","ion-hide-sm-down"],["size-xs","3","size-sm","2",1,"ion-padding"],["size","2"],["size-xs","3","size-sm","2"],[1,"ion-justify-content-center"],[3,"click"],["name","download-outline"],["name","trash-outline"],["size","12",1,"ion-text-center"]],template:function(n,i){1&n&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e.nrm(3,"ion-menu-button"),e.k0s(),e.j41(4,"ion-title"),e.EFF(5,"Entries"),e.k0s(),e.j41(6,"ion-buttons",1)(7,"ion-button",2),e.nrm(8,"ion-icon",3),e.EFF(9," Add Entry "),e.k0s()()()(),e.j41(10,"ion-content")(11,"ion-grid",4)(12,"ion-row")(13,"ion-col",5),e.EFF(14,"Name"),e.k0s(),e.j41(15,"ion-col",6)(16,"span",7),e.EFF(17,"Amount"),e.k0s(),e.j41(18,"span",8),e.EFF(19,"\u20b9"),e.k0s()(),e.j41(20,"ion-col",9),e.EFF(21,"Service"),e.k0s(),e.j41(22,"ion-col",10),e.EFF(23,"Actions"),e.k0s()(),e.Z7z(24,h,13,3,"ion-row",null,e.Vm6,!1,g,3,0,"ion-row"),e.k0s()()),2&n&&(e.R7$(24),e.Dyx(i.entries))},dependencies:[t.hU,t.lO,t.iq,t.Jm,t.ln,t.QW,t.W9,t.eU,t.BC,t.ai,t.MC,E.Wk],styles:["ion-row[_ngcontent-%COMP%]:first-child{background-color:var(--ion-color-primary);color:#fff}ion-col[_ngcontent-%COMP%]{border-right:solid 1px var(--ion-color-light-shade);border-bottom:solid 1px var(--ion-color-light-shade)}"]}),l})()}}]);