"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[863],{7863:(E,l,n)=>{n.r(l),n.d(l,{EmailVerificationPage:()=>_});var c=n(467),a=n(5751),o=n(5621),e=n(3953),f=n(9228),d=n(7990);let _=(()=>{var s;class u{constructor(i,t,r,h){this.auth=i,this.router=t,this.toaster=r,this.loader=h,this.email=""}ngOnInit(){var i;const t=this.auth.currentUser;t&&t.emailVerified&&this.router.navigate(["tabs"],{replaceUrl:!0}),this.email=null===(i=this.auth.currentUser)||void 0===i?void 0:i.email}confirmEmailVerification(){var i=this;return(0,c.A)(function*(){const t=yield i.loader.create({message:"Verifying email..."});yield t.present(),(0,o.yQ)(i.auth.currentUser).then(()=>{var r;null!==(r=i.auth.currentUser)&&void 0!==r&&r.emailVerified?(t.message="Email verified successfully.",setTimeout(()=>{i.router.navigate(["tabs/add-entry"]),t.dismiss()},2e3)):(i.toaster.presentToast({message:"Email is not yet verified. Please click on the verification link sent to your Email id.",color:"danger"}),t.dismiss())})})()}resendVerificationLinkEmail(){var i=this;return(0,c.A)(function*(){const t=yield i.loader.create({message:"Sending email..."});yield t.present(),(0,o.gA)(i.auth.currentUser).then(()=>{i.toaster.presentToast({message:"Verification email is sent successfully. Please click on the verification link sent to your Email id.",color:"success"})}).catch(r=>{i.toaster.presentToast({message:"Please wait for some time before you can send another verification email.",color:"danger"})}).finally(()=>t.dismiss())})()}}return(s=u).\u0275fac=function(i){return new(i||s)(e.rXU(o.Nj),e.rXU(f.Ix),e.rXU(d.W),e.rXU(a.Xi))},s.\u0275cmp=e.VBU({type:s,selectors:[["app-email-verification"]],standalone:!0,features:[e.aNF],decls:25,vars:3,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],[1,"ion-padding"],["color","danger"],["color","primary"],["type","button","expand","full","color","primary",3,"click"]],template:function(i,t){1&i&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.nrm(3,"ion-menu-button"),e.k0s(),e.j41(4,"ion-title"),e.EFF(5,"Email verification"),e.k0s()()(),e.j41(6,"ion-content",2)(7,"div",3)(8,"ion-text",4)(9,"h1"),e.EFF(10,"Your Email is unverified."),e.k0s()(),e.j41(11,"ion-text",5)(12,"h2"),e.EFF(13),e.k0s(),e.j41(14,"h2"),e.EFF(15,"After clicking on the link, click on the below button or refresh the page to proceed."),e.k0s()(),e.j41(16,"ion-button",6),e.bIt("click",function(){return t.confirmEmailVerification()}),e.EFF(17,"Confirm email verification"),e.k0s(),e.j41(18,"ion-text",5)(19,"h2"),e.EFF(20,"Not received the email?"),e.k0s(),e.j41(21,"h2"),e.EFF(22,"Click on the below button to resend the verification link email."),e.k0s()(),e.j41(23,"ion-button",6),e.bIt("click",function(){return t.resendVerificationLinkEmail()}),e.EFF(24," Resend verification mail"),e.k0s()()()),2&i&&(e.Y8G("translucent",!0),e.R7$(6),e.Y8G("fullscreen",!0),e.R7$(7),e.SpI("Please verify your email by clicking on the email verification link sent to your email id - ",t.email,"."))},dependencies:[a.QW,a.IO,a.Jm,a.W9,a.eU,a.BC,a.ai,a.MC]}),u})()}}]);