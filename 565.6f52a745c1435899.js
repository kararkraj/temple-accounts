"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[565],{4565:(v,c,l)=>{l.r(c),l.d(c,{EditTemplePage:()=>h});var _=l(467),e=l(3953),o=l(4341),a=l(5751),E=l(2193),f=l(9228);function P(r,d){if(1&r){const i=e.RV6();e.j41(0,"ion-grid",6)(1,"ion-row")(2,"ion-col")(3,"ion-button",7),e.bIt("click",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.resetForm())}),e.EFF(4,"Reset"),e.k0s()(),e.j41(5,"ion-col")(6,"ion-button",8),e.EFF(7,"Submit"),e.k0s()()()()}}let h=(()=>{var r;class d extends E.AddTemplePage{constructor(){super(...arguments),this.router=(0,e.WQX)(f.Ix)}ngOnInit(){var t=this;return(0,_.A)(function*(){t.title="Edit Temple";try{const n=yield t.templeService.getTempleById(t.templeId);t.templeForm.patchValue(n),t.temple=n}catch(n){t.toaster.presentToast({message:n.code,color:"danger"}),t.router.navigate(["tabs"],{replaceUrl:!0})}})()}onSubmit(){var t=this;return(0,_.A)(function*(){if(t.templeForm.valid&&t.templeForm.dirty){var n,s,m,p;const g=yield t.loader.create({message:"Updating temple..."});yield g.present();const u={};null!==(n=t.templeForm.get("name"))&&void 0!==n&&n.dirty&&(u.name=null===(s=t.templeForm.get("name"))||void 0===s?void 0:s.value),null!==(m=t.templeForm.get("address"))&&void 0!==m&&m.dirty&&(u.address=null===(p=t.templeForm.get("address"))||void 0===p?void 0:p.value);try{t.temple=yield t.templeService.updateTemple(t.templeId,u),t.toaster.presentToast({message:"Temple was updated successfully!",color:"success"})}catch(T){t.toaster.presentToast({message:`Error: ${T.code}`,color:"danger"}),console.error("Error updating document: ",T)}finally{t.resetForm(),g.dismiss()}}else t.templeForm.valid?yield t.toaster.presentToast({message:"Nothing to update.",color:"success"}):t.templeForm.markAllAsTouched()})()}resetForm(){this.templeForm.reset(this.temple)}}return(r=d).\u0275fac=(()=>{let i;return function(n){return(i||(i=e.xGo(r)))(n||r)}})(),r.\u0275cmp=e.VBU({type:r,selectors:[["app-edit-temple"]],standalone:!0,features:[e.Vt3,e.aNF],decls:17,vars:4,consts:[["slot","start"],["defaultHref","tabs/temples"],[3,"ngSubmit","formGroup"],["lines","none"],["formControlName","name","label","Temple Name *","label-placement","floating","placeholder","Enter temple name","type","text","name","templeName","required","","maxlength","100","helperText","Only a-z, A-Z and 0-9 characters allowed","errorText","Only a-z, A-Z and 0-9 characters allowed"],["formControlName","address","label","Temple Address *","label-placement","floating","placeholder","Enter temple address","name","templeAddress","required","","maxlength","500","helperText","Only a-z, A-Z, 0-9, comma, ., -` and new line characters allowed","errorText","Only a-z, A-Z, 0-9, comma, ., - and new line characters allowed","rows","3",3,"autoGrow"],[1,"ion-no-padding"],["expand","full","type","button","color","light",3,"click"],["expand","full","type","submit"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e.nrm(3,"ion-back-button",1),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.k0s()()(),e.j41(6,"ion-content")(7,"form",2),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.j41(8,"ion-item-group")(9,"ion-item-divider")(10,"ion-label"),e.EFF(11,"Temple details:"),e.k0s()(),e.j41(12,"ion-item",3),e.nrm(13,"ion-input",4),e.k0s(),e.j41(14,"ion-item",3),e.nrm(15,"ion-textarea",5),e.k0s()(),e.DNE(16,P,8,0,"ion-grid",6),e.k0s()()),2&t&&(e.R7$(5),e.JRh(n.title),e.R7$(2),e.Y8G("formGroup",n.templeForm),e.R7$(8),e.Y8G("autoGrow",!0),e.R7$(),e.vxM(n.canEdit?16:-1))},dependencies:[a.hU,a.ln,a.lO,o.X1,o.qT,o.BC,o.cb,o.YS,o.tU,o.j4,o.JD,a.W9,a.eU,a.BC,a.ai,a.Jm,a.nc,a.$w,a.QW,a.uz,a.jh,a.Dg,a.he,a.el],styles:["@media (max-width: 560px){ion-input.amount-input[_ngcontent-%COMP%]{flex:20%}}@media (min-width: 561px) and (max-width: 1000px){ion-input.amount-input[_ngcontent-%COMP%]{flex:60%}}.input-disabled[_ngcontent-%COMP%], .textarea-disabled[_ngcontent-%COMP%]{opacity:.5}"]}),d})()}}]);