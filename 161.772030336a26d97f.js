"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[161],{161:(A,u,n)=>{n.r(u),n.d(u,{AccountActionsPage:()=>v});var l=n(467),r=n(5751),i=n(5621),m=n(5312),t=n(3953),d=n(9228),g=n(7990);function f(o,c){1&o&&t.nrm(0,"ion-router-outlet")}function y(o,c){}let v=(()=>{var o;class c{constructor(s,e,a,h,E){this.activatedRoute=s,this.router=e,this.loader=a,this.auth=h,this.toaster=E,this.enableRouterOutlet=!1}ngOnInit(){var s=this;return(0,l.A)(function*(){const e=yield s.loader.create({message:"Checking mode..."});yield e.present();const a=s.activatedRoute.snapshot.queryParams;if(Object.keys(a).length>0&&a.apiKey===m.c.firebase.apiKey&&a.oobCode)switch(s.enableRouterOutlet=!0,a.mode){case"resetPassword":yield s.router.navigateByUrl(`reset-password?oobCode=${a.oobCode}`);break;case"verifyEmail":e.message="Verifying email...",yield s.verifyEmail(a.oobCode).finally(()=>e.dismiss());break;case"verifyAndChangeEmail":e.message="Verifying new email...",yield s.verifyAndChangeEmail(a.oobCode).finally(()=>e.dismiss())}else s.router.navigate(["login"],{replaceUrl:!0});e.dismiss()})()}verifyEmail(s){var e=this;return(0,l.A)(function*(){try{yield(0,i.sv)(e.auth,s),e.auth.currentUser?(yield(0,i.yQ)(e.auth.currentUser),e.toaster.presentToast({message:"Email is verified successfully.",color:"success"})):e.toaster.presentToast({message:"Email is verified successfully. Please login to continue.",color:"success"})}catch(a){e.toaster.presentToast({message:`Error: ${a.code}`,color:"danger"})}finally{e.router.navigate(["login"],{replaceUrl:!0})}})()}verifyAndChangeEmail(s){var e=this;return(0,l.A)(function*(){try{yield(0,i.sv)(e.auth,s),yield(0,i.CI)(e.auth),e.toaster.presentToast({message:"Email is verified successfully. Please login to continue.",color:"success"})}catch(a){e.toaster.presentToast({message:a.code,color:"danger"})}finally{e.router.navigate(["login"],{replaceUrl:!0})}})()}}return(o=c).\u0275fac=function(s){return new(s||o)(t.rXU(d.nX),t.rXU(d.Ix),t.rXU(r.Xi),t.rXU(i.Nj),t.rXU(g.W))},o.\u0275cmp=t.VBU({type:o,selectors:[["app-account-actions"]],standalone:!0,features:[t.aNF],decls:9,vars:3,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"]],template:function(s,e){1&s&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t.nrm(3,"ion-menu-button"),t.k0s(),t.j41(4,"ion-title"),t.EFF(5,"Account actions"),t.k0s()()(),t.j41(6,"ion-content",2),t.DNE(7,f,1,0,"ion-router-outlet")(8,y,0,0),t.k0s()),2&s&&(t.Y8G("translucent",!0),t.R7$(6),t.Y8G("fullscreen",!0),t.R7$(),t.vxM(e.enableRouterOutlet?7:8))},dependencies:[r.Rg,r.QW,r.W9,r.eU,r.BC,r.ai,r.MC]}),c})()}}]);