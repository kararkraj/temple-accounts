"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[413],{413:(M,m,r)=>{r.r(m),r.d(m,{LoginPage:()=>b});var u=r(467),o=r(4341),t=r(5751),c=r(2802),d=r(5621),e=r(3953),h=r(9228),f=r(7990),P=r(7291);const E=()=>["Ok"];let b=(()=>{var l;class _{constructor(n,i,a,s,g){this.router=n,this.loader=i,this.toaster=a,this.auth=s,this.storage=g,this.loginForm=new o.gE({username:new o.MJ(null,[o.k0.required,o.k0.maxLength(99)]),password:new o.MJ(null,[o.k0.required,o.k0.maxLength(99)]),rememberMe:new o.MJ(!1)})}ngOnInit(){}onLogin(){var n=this;return(0,u.A)(function*(){if(n.loginForm.valid){const i=yield n.loader.create({message:"Logging in..."});yield i.present();const a=n.loginForm.getRawValue();yield n.auth.setPersistence(a.rememberMe?c.F0:c.iM),(0,d.x9)(n.auth,a.username,a.password).then(function(){var s=(0,u.A)(function*(g){yield n.storage.resetStorage(),n.toaster.presentToast({message:"Login successful.",color:"success"}),n.router.navigate(["tabs"],{replaceUrl:!0})});return function(g){return s.apply(this,arguments)}}()).catch(s=>{console.log(s),n.toaster.presentToast({message:`Error: ${s.code}`,color:"danger"})}).finally(()=>{i.dismiss(),n.loginForm.reset()})}else n.loginForm.markAllAsTouched()})()}goToRegister(){this.router.navigateByUrl("/register")}}return(l=_).\u0275fac=function(n){return new(n||l)(e.rXU(h.Ix),e.rXU(t.Xi),e.rXU(f.W),e.rXU(d.Nj),e.rXU(P.n))},l.\u0275cmp=e.VBU({type:l,selectors:[["app-login"]],standalone:!0,features:[e.aNF],decls:28,vars:5,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],[1,"login-logo"],["src","assets/icons/icon-512.webp","alt","Ionic logo"],["novalidate","",1,"ion-padding",3,"ngSubmit","formGroup"],["label","Username","labelPlacement","stacked","fill","solid","formControlName","username","name","username","type","text","spellcheck","false","autocapitalize","off","errorText","Username is required","required","","maxlength","99","placeholder","example@domain.com",1,"ion-margin-bottom"],["label","Password","labelPlacement","stacked","fill","solid","formControlName","password","name","password","type","password","errorText","Password is required","required","","maxlength","99","placeholder","********",1,"ion-margin-bottom"],[1,"ion-margin-bottom","ion-no-padding"],[1,"ion-align-items-center"],["size","auto"],["formControlName","rememberMe","labelPlacement","end","name","rememberMe"],["color","danger","name","alert-circle-outline","id","present-alert",1,"ion-margin-start","remember-me-alert-icon"],["trigger","present-alert","header","Keep me signed in:","message","When selected, this option will keep you signed in until you explicitly logout/signout.<br><br> When unselected, you will be automatically logged out when the tab/browser is closed.",3,"buttons"],[1,"ion-no-padding"],["color","light","expand","full",3,"click"],["type","submit","expand","full"]],template:function(n,i){1&n&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.nrm(3,"ion-menu-button"),e.k0s(),e.j41(4,"ion-title"),e.EFF(5,"Login"),e.k0s()()(),e.j41(6,"ion-content",2)(7,"div",3),e.nrm(8,"img",4),e.k0s(),e.j41(9,"form",5),e.bIt("ngSubmit",function(){return i.onLogin()}),e.nrm(10,"ion-input",6)(11,"ion-input",7),e.j41(12,"ion-grid",8)(13,"ion-row",9)(14,"ion-col",10)(15,"ion-checkbox",11),e.EFF(16," Keep me signed in "),e.k0s()(),e.j41(17,"ion-col"),e.nrm(18,"ion-icon",12)(19,"ion-alert",13),e.k0s()()(),e.j41(20,"ion-grid",14)(21,"ion-row")(22,"ion-col")(23,"ion-button",15),e.bIt("click",function(){return i.goToRegister()}),e.EFF(24,"Register"),e.k0s()(),e.j41(25,"ion-col")(26,"ion-button",16),e.EFF(27,"Login"),e.k0s()()()()()()),2&n&&(e.Y8G("translucent",!0),e.R7$(6),e.Y8G("fullscreen",!0),e.R7$(3),e.Y8G("formGroup",i.loginForm),e.R7$(10),e.Y8G("buttons",e.lJ4(4,E)))},dependencies:[t.lO,t.Zy,t.eY,t.iq,o.X1,o.qT,o.BC,o.cb,o.YS,o.tU,o.j4,o.JD,t.Jm,t.hU,t.ln,t.W9,t.eU,t.BC,t.ai,t.QW,t.MC,t.$w],styles:[".login-logo[_ngcontent-%COMP%]{min-height:200px;padding:20px 0;text-align:center}.login-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:250px;border-radius:25%}"]}),_})()}}]);