"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[221],{3221:(b,p,i)=>{i.r(p),i.d(p,{EditEntryPage:()=>h});var E=i(467),n=i(5751),r=i(4341),e=i(3953),_=i(9650),v=i(7990),f=i(4987);function g(l,c){if(1&l&&(e.j41(0,"ion-item",4),e.nrm(1,"ion-input",13),e.k0s(),e.j41(2,"ion-item",4),e.nrm(3,"ion-input",14),e.k0s()),2&l){const s=e.XpG();e.R7$(),e.Y8G("value",s.entry.serviceName),e.R7$(2),e.Y8G("value",s.entry.serviceAmount)}}let h=(()=>{var l;class c{constructor(t,a,o,u){this.entryService=t,this.loader=a,this.toaster=o,this.pdfService=u,this.title="Edit entry",this.entryForm=new r.gE({title:new r.MJ(null,[r.k0.required]),name:new r.MJ(null,[r.k0.required,r.k0.maxLength(100),r.k0.pattern("[a-zA-Z0-9 ]+")])})}ngOnInit(){var t=this;return(0,E.A)(function*(){t.entry=yield t.entryService.getEntryById(t.entryId),t.resetForm()})()}onSubmit(){var t=this;return(0,E.A)(function*(){if(t.entryForm.valid&&t.entryForm.dirty){var a,o,u,d;let y={};null!==(a=t.entryForm.get("title"))&&void 0!==a&&a.dirty&&(y.title=null===(o=t.entryForm.get("title"))||void 0===o?void 0:o.value),null!==(u=t.entryForm.get("name"))&&void 0!==u&&u.dirty&&(y.name=null===(d=t.entryForm.get("name"))||void 0===d?void 0:d.value);try{const m=yield t.entryService.updateEntry(t.entryId,y);t.entry={...t.entry,...m},t.toaster.presentToast({message:"Entry was updated successfully.",color:"success"})}catch(m){t.toaster.presentToast({message:`Error: ${m.code}`,color:"danger"}),console.error("Error updating document: ",m)}finally{t.resetForm()}}else t.entryForm.valid?yield t.toaster.presentToast({message:"Nothing to update.",color:"success"}):t.entryForm.markAllAsTouched()})()}resetForm(){this.entryForm.patchValue(this.entry)}}return(l=c).\u0275fac=function(t){return new(t||l)(e.rXU(_.q),e.rXU(n.Xi),e.rXU(v.W),e.rXU(f.C))},l.\u0275cmp=e.VBU({type:l,selectors:[["app-edit-entry"]],inputs:{entryId:"entryId"},standalone:!0,features:[e.aNF],decls:28,vars:3,consts:[["slot","start"],["defaultHref","tabs/entries"],[1,"container"],[3,"ngSubmit","formGroup"],["lines","full"],["formControlName","title","label","Title *","label-placement","floating","placeholder","Select title","required","","name","title"],["value","Sri."],["value","Smt."],["value","Kum."],["formControlName","name","label","Name *","label-placement","floating","placeholder","Enter name","type","text","name","name","required","","helperText","Only a-z, A-Z and 0-9 characters allowed","errorText","Only a-z, A-Z and 0-9 characters allowed"],[1,"ion-no-padding"],["expand","full","type","button","color","light",3,"click"],["expand","full","type","submit"],["label","Service name *","label-placement","floating","type","text","name","charityTypeName","disabled","",3,"value"],["label","Service amount *","label-placement","floating","type","number","name","charityTypeAmount","disabled","",3,"value"]],template:function(t,a){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e.nrm(3,"ion-back-button",1),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.k0s()()(),e.j41(6,"ion-content")(7,"div",2)(8,"form",3),e.bIt("ngSubmit",function(){return a.onSubmit()}),e.j41(9,"ion-item",4)(10,"ion-select",5)(11,"ion-select-option",6),e.EFF(12,"Sri. (Shriman)"),e.k0s(),e.j41(13,"ion-select-option",7),e.EFF(14,"Smt. (Shrimati)"),e.k0s(),e.j41(15,"ion-select-option",8),e.EFF(16,"Kum. (Kumar/Kumari)"),e.k0s()()(),e.j41(17,"ion-item",4),e.nrm(18,"ion-input",9),e.k0s(),e.DNE(19,g,4,2),e.j41(20,"ion-grid",10)(21,"ion-row")(22,"ion-col")(23,"ion-button",11),e.bIt("click",function(){return a.resetForm()}),e.EFF(24,"Reset"),e.k0s()(),e.j41(25,"ion-col")(26,"ion-button",12),e.EFF(27,"Submit"),e.k0s()()()()()()()),2&t&&(e.R7$(5),e.JRh(a.title),e.R7$(3),e.Y8G("formGroup",a.entryForm),e.R7$(11),e.vxM(a.entry?19:-1))},dependencies:[r.X1,r.qT,r.BC,r.cb,r.YS,r.j4,r.JD,n.W9,n.eU,n.BC,n.ai,n.QW,n.uz,n.Ip,n.$w,n.Jm,n.Nm,n.el,n.lO,n.ln,n.hU]}),c})()}}]);