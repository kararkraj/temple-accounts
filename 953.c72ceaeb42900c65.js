"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[953],{1953:(C,o,d)=>{d.d(o,{y:()=>g});var p=d(3953),h=d(1985),a=d(2943),T=d(7291);let g=(()=>{var n;class c{constructor(t){this.storage=t,this.charityTypesUpdatedSignal=(0,p.vPA)(0)}getCharityTypes(){return this.storage.get(a.d.CHARITY_TYPES.charityTypes)}addCharityType(t){return new h.c(i=>{Promise.all([this.storage.get(a.d.CHARITY_TYPES.lastStoredId),this.getCharityTypes()]).then(e=>{const r={...t,id:e[0]+1};e[1].push(r),Promise.all([this.storage.set(a.d.CHARITY_TYPES.charityTypes,e[1]),this.storage.set(a.d.CHARITY_TYPES.lastStoredId,r.id)]).then(y=>{this.triggerCharityTypesUpdatedSignal(),i.next(r),i.complete()})})})}getCharityTypeById(t){return new h.c(i=>{this.getCharityTypes().then(e=>{const s=e.find(r=>r.id===t);s?i.next(s):i.error("Service Id not found."),i.complete()})})}updateCharityType(t){return new h.c(i=>{this.getCharityTypes().then(e=>{const s=e.findIndex(r=>r.id===t.id);e[s]=t,this.storage.set(a.d.CHARITY_TYPES.charityTypes,e).then(r=>{i.next(t),this.triggerCharityTypesUpdatedSignal(),i.complete()})})})}deleteService(t){return new h.c(i=>{this.getCharityTypes().then(e=>{const s=e.findIndex(y=>y.id===t),r=e.splice(s,1)[0];this.storage.set(a.d.CHARITY_TYPES.charityTypes,e).then(y=>{this.triggerCharityTypesUpdatedSignal(),i.next(r),i.complete()})})})}triggerCharityTypesUpdatedSignal(){this.charityTypesUpdatedSignal.update(t=>++t)}}return(n=c).\u0275fac=function(t){return new(t||n)(p.KVO(T.n))},n.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),c})()}}]);