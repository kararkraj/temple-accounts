"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[703,807],{185:(T,c,i)=>{i.r(c),i.d(c,{ViewTemplePage:()=>_});var e=i(3953),p=i(177),r=i(4341),t=i(7920),g=i(2193),u=i(70);function d(s,n){if(1&s){const o=e.RV6();e.qex(0),e.j41(1,"ion-grid",7)(2,"ion-row")(3,"ion-col")(4,"ion-button",8),e.bIt("click",function(){e.eBV(o);const a=e.XpG();return e.Njj(a.resetForm())}),e.EFF(5,"Reset"),e.k0s()(),e.j41(6,"ion-col")(7,"ion-button",9),e.EFF(8,"Submit"),e.k0s()()()(),e.bVm()}}let _=(()=>{var s;class n extends g.AddTemplePage{constructor(){super(...arguments),this.router=(0,e.WQX)(u.Ix)}ngOnInit(){this.title="View Temple",this.canEdit=!1,this.templeService.getTempleById(this.templeId).subscribe({next:l=>{this.templeForm.patchValue(l),this.templeForm.disable()},error:l=>{this.toaster.presentToast({message:l,color:"danger"}),this.router.navigate(["tabs/temples"])}})}}return(s=n).\u0275fac=(()=>{let o;return function(a){return(o||(o=e.xGo(s)))(a||s)}})(),s.\u0275cmp=e.VBU({type:s,selectors:[["app-view-temple"]],standalone:!0,features:[e.Vt3,e.aNF],decls:17,vars:4,consts:[["slot","start"],["defaultHref","tabs/temples"],[3,"ngSubmit","formGroup"],["lines","none"],["formControlName","name","label","Temple Name *","label-placement","floating","placeholder","Enter temple name","type","text","name","templeName","required","","maxlength","100","helperText","Only a-z, A-Z and 0-9 characters allowed","errorText","Only a-z, A-Z and 0-9 characters allowed"],["formControlName","address","label","Temple Address *","label-placement","floating","placeholder","Enter temple address","name","templeAddress","required","","maxlength","500","helperText","Only a-z, A-Z, 0-9, comma, ., -` and new line characters allowed","errorText","Only a-z, A-Z, 0-9, comma, ., - and new line characters allowed","rows","3",3,"autoGrow"],[4,"ngIf"],[1,"ion-no-padding"],["expand","full","type","button","color","light",3,"click"],["expand","full","type","submit"]],template:function(l,a){1&l&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e.nrm(3,"ion-back-button",1),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.k0s()()(),e.j41(6,"ion-content")(7,"form",2),e.bIt("ngSubmit",function(){return a.onSubmit()}),e.j41(8,"ion-item-group")(9,"ion-item-divider")(10,"ion-label"),e.EFF(11,"Temple details:"),e.k0s()(),e.j41(12,"ion-item",3),e.nrm(13,"ion-input",4),e.k0s(),e.j41(14,"ion-item",3),e.nrm(15,"ion-textarea",5),e.k0s()(),e.DNE(16,d,9,0,"ng-container",6),e.k0s()()),2&l&&(e.R7$(5),e.JRh(a.title),e.R7$(2),e.Y8G("formGroup",a.templeForm),e.R7$(8),e.Y8G("autoGrow",!0),e.R7$(),e.Y8G("ngIf",a.canEdit))},dependencies:[t.hU,t.ln,t.lO,p.MD,p.bT,r.X1,r.qT,r.BC,r.cb,r.YS,r.tU,r.j4,r.JD,t.W9,t.eU,t.BC,t.ai,t.Jm,t.nc,t.$w,t.QW,t.uz,t.jh,t.Dg,t.he,t.el],styles:["@media (max-width: 560px){ion-input.amount-input[_ngcontent-%COMP%]{flex:20%}}@media (min-width: 561px) and (max-width: 1000px){ion-input.amount-input[_ngcontent-%COMP%]{flex:60%}}.input-disabled[_ngcontent-%COMP%], .textarea-disabled[_ngcontent-%COMP%]{opacity:.5}",".input-disabled[_ngcontent-%COMP%], .textarea-disabled[_ngcontent-%COMP%]{opacity:.8}"]}),n})()},9807:(T,c,i)=>{i.d(c,{f:()=>u});var e=i(467),p=i(3953),r=i(1985),t=i(2943),g=i(7291);let u=(()=>{var d;class _{constructor(n){this.storage=n,this.templesUpdatedSignal=(0,p.vPA)(0)}addTemple(n){return new r.c(o=>{this.getTempleNextId().then(l=>{n.id=l,this.storage.get(t.d.TEMPLE.temples).then(a=>{a.push(n),this.storage.set(t.d.TEMPLE.temples,a),this.storage.set(t.d.TEMPLE.lastStoredId,n.id).then(()=>{o.next(n),this.triggerTemplesUpdatedEvent(),o.complete()})})})})}getTemples(){return this.storage.get(t.d.TEMPLE.temples)}getTempleById(n){return new r.c(o=>{this.storage.get(t.d.TEMPLE.temples).then(l=>{const a=l.find(m=>m.id===n);a?o.next(a):o.error("Temple Id not found."),o.complete()})})}getTempleNextId(){var n=this;return(0,e.A)(function*(){return(yield n.storage.get(t.d.TEMPLE.lastStoredId))+1})()}updateTemple(n){const o=n.id;return new r.c(l=>{this.storage.get(t.d.TEMPLE.temples).then(a=>{const m=a.findIndex(E=>E.id===o);a.splice(m,1),a.splice(m,0,n),this.storage.set(t.d.TEMPLE.temples,a).then(()=>{l.next(n),this.triggerTemplesUpdatedEvent(),l.complete()})})})}deleteTemple(n){return new r.c(o=>{this.storage.get(t.d.TEMPLE.temples).then(l=>{const a=l.findIndex(E=>E.id===n),m=l.splice(a,1)[0];this.storage.set(t.d.TEMPLE.temples,l).then(()=>{o.next(m),this.triggerTemplesUpdatedEvent(),o.complete()})})})}triggerTemplesUpdatedEvent(){this.templesUpdatedSignal.update(n=>++n)}}return(d=_).\u0275fac=function(n){return new(n||d)(p.KVO(g.n))},d.\u0275prov=p.jDH({token:d,factory:d.\u0275fac,providedIn:"root"}),_})()}}]);