"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[637],{1637:(y,u,o)=>{o.r(u),o.d(u,{RegisterPage:()=>k});var E=o(467),_=o(2802),m=o(5621),r=o(4341),a=o(5751),e=o(3953),M=o(9228),w=o(7990);function v(l,d){1&l&&(e.j41(0,"div",9)(1,"ion-note",13),e.EFF(2,"Password and confirm password do not match"),e.k0s()())}let k=(()=>{var l;class d{constructor(t,n,s,i){this.router=t,this.toaster=n,this.auth=s,this.loader=i,this.checkPasswordMatch=p=>{var c,g;const f=null===(c=p.get("password"))||void 0===c?void 0:c.value,P=null===(g=p.get("confirmPassword"))||void 0===g?void 0:g.value;return f&&P&&f!==P?{isPasswordMisMatch:!0}:null},this.registerForm=new r.gE({displayName:new r.MJ(null,[r.k0.required,r.k0.minLength(2),r.k0.maxLength(99),r.k0.pattern("[a-zA-Z0-9 ]+")]),email:new r.MJ(null,[r.k0.required,r.k0.email,r.k0.minLength(5)]),password:new r.MJ(null,[r.k0.required,r.k0.minLength(8),r.k0.maxLength(99)]),confirmPassword:new r.MJ(null,[r.k0.required,r.k0.maxLength(99)]),rememberMe:new r.MJ(!1)},{validators:this.checkPasswordMatch})}ngOnInit(){}get(){return this.registerForm.controls}onSubmit(){var t=this;return(0,E.A)(function*(){if(t.registerForm.valid){const n=yield t.loader.create({message:"Registering..."});n.present();const s=t.registerForm.getRawValue();try{yield t.auth.setPersistence(s.rememberMe?_.F0:_.iM);const i=yield(0,m.eJ)(t.auth,s.email,s.password);yield(0,m.r7)(i.user,{displayName:s.displayName}),yield(0,m.gA)(i.user),yield(0,m.CI)(t.auth),yield t.toaster.presentToast({message:`Please click on the verification link sent to your email: ${s.email}`,color:"success"}),t.registerForm.reset(),t.router.navigate(["login"],{replaceUrl:!0})}catch(i){console.log(i),t.toaster.presentToast({message:`Error: ${i.code}`,color:"danger"})}finally{n.dismiss()}}else t.registerForm.markAllAsTouched(),t.registerForm.hasError("isPasswordMisMatch")&&t.toaster.presentToast({message:"Password and confirm password do not match.",color:"danger"})})()}goToLogin(){this.router.navigate(["login"])}}return(l=d).\u0275fac=function(t){return new(t||l)(e.rXU(M.Ix),e.rXU(w.W),e.rXU(m.Nj),e.rXU(a.Xi))},l.\u0275cmp=e.VBU({type:l,selectors:[["app-register"]],standalone:!0,features:[e.aNF],decls:22,vars:4,consts:[["register",""],[3,"translucent"],["slot","start"],[3,"fullscreen"],["novalidate","",1,"ion-padding",3,"ngSubmit","formGroup"],["formControlName","displayName","label","Display Name *","labelPlacement","stacked","fill","solid","name","displayName","type","text","spellcheck","false","autocapitalize","off","helperText","Only a-z, A-Z and 0-9 characters allowed","errorText","Only a-z, A-Z and 0-9 characters allowed","required","","minlength","2","maxlength","99",1,"ion-margin-bottom"],["formControlName","email","label","Email *","labelPlacement","stacked","fill","solid","name","email","type","text","spellcheck","false","autocapitalize","off","errorText","Invalid Email","required","","maxlength","99","placeholder","example@domain.com",1,"ion-margin-bottom"],["formControlName","password","label","Password *","labelPlacement","stacked","fill","solid","name","password","type","password","errorText","Use 8 characters or more for your password","required","","maxlength","99","minlength","8",1,"ion-margin-bottom"],["formControlName","confirmPassword","label","Confirm password *","labelPlacement","stacked","fill","solid","name","confirmPassword","type","password","maxlength","99","required","","errorText","Confirm password is required",1,"ion-margin-bottom"],[1,"ion-margin-bottom"],[1,"ion-no-padding"],["color","light","expand","full",3,"click"],["type","submit","color","primary","expand","full"],["color","danger"]],template:function(t,n){if(1&t){const s=e.RV6();e.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-buttons",2),e.nrm(3,"ion-menu-button"),e.k0s(),e.j41(4,"ion-title"),e.EFF(5,"Register"),e.k0s()()(),e.j41(6,"ion-content",3)(7,"form",4,0),e.bIt("ngSubmit",function(){return e.eBV(s),e.Njj(n.onSubmit())}),e.nrm(9,"ion-input",5)(10,"ion-input",6)(11,"ion-input",7)(12,"ion-input",8),e.DNE(13,v,3,0,"div",9),e.j41(14,"ion-grid",10)(15,"ion-row")(16,"ion-col")(17,"ion-button",11),e.bIt("click",function(){return e.eBV(s),e.Njj(n.goToLogin())}),e.EFF(18,"Login"),e.k0s()(),e.j41(19,"ion-col")(20,"ion-button",12),e.EFF(21,"Register"),e.k0s()()()()()()}2&t&&(e.Y8G("translucent",!0),e.R7$(6),e.Y8G("fullscreen",!0),e.R7$(),e.Y8G("formGroup",n.registerForm),e.R7$(6),e.vxM(n.registerForm.hasError("isPasswordMisMatch")?13:-1))},dependencies:[a.lO,a.JI,a.ln,a.hU,a.Jm,a.$w,a.QW,a.W9,a.eU,a.BC,a.ai,a.MC,r.X1,r.qT,r.BC,r.cb,r.YS,r.xh,r.tU,r.j4,r.JD]}),d})()}}]);